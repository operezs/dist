(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{"233g":function(l,n,e){"use strict";e.d(n,"a",function(){return u});var t=e("gIcY"),o=e("IT+t"),i=(e("bSFq"),e("pZIk"),e("Gi3i")),u=(e("rTjG"),e("CqXn"),e("Dz0G"),e("7JjQ"),function(){function l(l,n,e,t,i,u,r,a,c){this.confirmDialogService=l,this.admitedService=n,this.errorHandlingService=e,this.translate=t,this.router=i,this.authService=u,this.userService=r,this.activatedRoute=a,this.toastr=c,this.key="name",this.reverse=!1,this.p=1,this.dateRange=new o.a(new Date(""),new Date("")),this.rowsNumber=1e3,this.ordersList=[],this.orders=[],this.ordersToAdmission={ids:[]},this.retiroView=!1,this.actions=[{id:"admission",name:"Generar Admisi\xf3n"}]}return l.prototype.ngOnInit=function(){var l=this;this.userId=this.authService.currentUser.id,this.filter=this.createFilterFormGroup(),this.filterValueChanges=this.filter.valueChanges.pipe(Object(i.a)(500)).subscribe(function(n){return l.onFilter()}),$('[data-toggle="tooltip"]').tooltip(),$('[data-toggle="popover"]').popover(),this.getUser()},l.prototype.sort=function(l){this.key=l,this.reverse=!this.reverse},l.prototype.getUser=function(){var l=this;this.userService.getUser(this.userId).subscribe(function(n){l.user=n},function(n){return l.errorHandlingService.handleUiError("Error",n)})},l.prototype.ngAfterViewInit=function(){this.rowsNumber=10,this.retiro||this.loadPage()},l.prototype.ngOnDestroy=function(){this.filterValueChanges.unsubscribe()},l.prototype.createFilterFormGroup=function(){var l={};return l.status=new t.FormControl(""),new t.FormGroup(l)},l.prototype.onAdmission=function(l){var n=this;this.admitedService.postAdmission(l).subscribe(function(l){n.toastr.success("Se complet\xf3 la Admisi\xf3n de forma correcta"),n.loadPage()},function(l){n.toastr.error("No se pudo completar la Admisi\xf3n, nos encontramos en trabajos de mantenimiento en los servicios de correos de chile, intentelo m\xe1s tarde. Gracias!!!"),n.errorHandlingService.handleUiError("Error",l)})},l.prototype.loadPage=function(){this.getOrders()},l.prototype.getOrders=function(){var l=this;this.admitedService.getAdmiteds(Object.assign({},this.filter.value)).subscribe(function(n){l.orders=n},function(n){l.errorHandlingService.handleUiError("Error",n)})},l.prototype.getStatus=function(l){return"voided"===l?"Cancelado":"pending"===l?"Pendiente":"paid"===l?"Pagado":"authorized"===l?"Autorizado":""},l.prototype.detectErrors=function(){var l=this;this.orders.forEach(function(n){n.admission||l.toastr.error("Encontramos \xd3rdenes que no fueron admitidas correctamente, lo m\xe1s probable es que se generaron por trabajos de mantenimiento en los servicios de correos de chile, por favor regenere la admisi\xf3n de forma manual para las \xd3rdenes marcadas en rojo. Gracias!!!")})},l.prototype.onFilter=function(){this.loadPage()},l.prototype.onSort=function(){this.loadPage()},l.prototype.onPage=function(){this.loadPage()},l.prototype.onDetails=function(l){},l.prototype.generateLabel=function(l){this.admitedService.getLabel(l,this.user.labelFormat)},l.prototype.onDelete=function(l){var n=this;this.confirmDialogService.confirm("Eliminar orden","Seguro que desea eliminar la orden?").then(function(e){e&&n.admitedService.deleteOrder(l).subscribe(function(){n.toastr.success("Orden eliminada con \xe9xito"),n.loadPage()},function(l){return n.errorHandlingService.handleUiError("Error",l)})}).catch(function(){})},l.prototype.clearDate=function(){this.dateRange=new o.a(new Date(""),new Date("")),this.filter.value.rangeDate=!1,this.loadPage()},l.prototype.filterDate=function(){"Invalid Date"!==this.dateRange.end.toDateString()&&(this.filter.value.rangeDate=this.dateRange,this.loadPage())},l.prototype.getService=function(l){return"07"===l?"PES":"PED"},l.prototype.getStaticOrders=function(){var l=this;this.admitedService.getStaticOrders().subscribe(function(n){l.ordersList=n},function(l){return console.log(l)},function(){return l.ordersList})},l.prototype.selectAll=function(l){this.checkboxes=document.getElementsByName("checkboxes");for(var n=0,e=this.checkboxes.length;n<e;n++)this.checkboxes[n].checked=l.target.checked},l.prototype.getCheckboxesOrders=function(){this.checkboxes=document.getElementsByName("checkboxes");for(var l=0,n=this.checkboxes.length;l<n;l++)this.checkboxes[l].checked&&this.ordersToAdmission.ids.push(this.orders[l].id)},l.prototype.generateBulkAdmissions=function(){var l=this;this.getCheckboxesOrders(),this.ordersToAdmission.ids.length>0?this.admitedService.postBulkAdmission(this.ordersToAdmission).subscribe(function(n){l.toastr.success("Se complet\xf3 la acci\xf3n de forma correcta"),l.loadPage()},function(n){l.toastr.error("No se pudo completar la acci\xf3n!"),l.errorHandlingService.handleUiError("Error",n)}):(this.toastr.error("Selexione al menos una \xf3rden"),console.log("error"))},l}())},AZtd:function(l,n,e){"use strict";e.d(n,"a",function(){return t});var t=function(){return function(){}}()},CqXn:function(l,n,e){},Dz0G:function(l,n,e){"use strict";e.d(n,"a",function(){return r});var t=e("aq+k"),o=e("cmSp"),i=e("67Y/"),u=e("CcnG"),r=function(){function l(l,n){this.configService=l,this.http=n,this.apiUrl=this.configService.config.apiUrl,this.apiUserEndpoint=this.apiUrl+this.configService.config.apiConfigs.users.apiEndpoint}return l.prototype.getUser=function(l){return this.http.get(this.apiUserEndpoint+l)},l.prototype.getComunas=function(){return this.http.get(this.apiUserEndpoint)},l.prototype.getRegions=function(){return this.http.get(this.apiUserEndpoint)},l.prototype.putUser=function(l){return this.http.put(this.apiUserEndpoint+l.id,JSON.stringify(l))},l.prototype.postUser=function(l){return this.http.post(this.apiUserEndpoint,JSON.stringify(l))},l.prototype.getStaticRegions=function(){return this.http.get("assets/data/regiones-comunas.json").pipe(Object(i.a)(function(l){return l}))},l.prototype.getStaticUser=function(){return this.http.get("assets/data/user.json").pipe(Object(i.a)(function(l){return l}))},l.ngInjectableDef=u.defineInjectable({factory:function(){return new l(u.inject(o.a),u.inject(t.a))},token:l,providedIn:"root"}),l}()},"FRf/":function(l,n,e){"use strict";var t=e("CcnG"),o=e("A7o+"),i=e("Ip0R"),u=e("xkgV"),r=e("gIcY"),a=e("abRS"),c=e("233g"),s=e("bSFq"),d=e("rTjG"),p=e("pZIk"),f=e("ZYCi"),g=e("7JjQ"),m=e("Dz0G"),h=e("SZbH");e.d(n,"b",function(){return v}),e.d(n,"c",function(){return P}),e.d(n,"a",function(){return I});var v=t["\u0275crt"]({encapsulation:0,styles:[[".tooltip-static[_ngcontent-%COMP%]   .tooltip[_ngcontent-%COMP%]{position:relative;display:block;opacity:1;z-index:1}.tooltip-static[_ngcontent-%COMP%]   .tooltip[_ngcontent-%COMP%]   .tooltip-inner[_ngcontent-%COMP%]{max-width:100%}.popover-static[_ngcontent-%COMP%]   .popover[_ngcontent-%COMP%]{position:relative;display:block;margin:0;max-width:100%;z-index:1}.title-color-black[_ngcontent-%COMP%]{color:#000}.page-title[_ngcontent-%COMP%]{font-style:normal;font-weight:300;font-size:40px;line-height:47px;color:#000}.page-title-form[_ngcontent-%COMP%]{font-style:normal;font-weight:300;font-size:28px;line-height:47px;color:#000}.page-sub-title[_ngcontent-%COMP%]{font-style:normal;font-weight:300;font-size:24px;color:#000}.custom-day[_ngcontent-%COMP%]{text-align:center;padding:.185rem .25rem;display:inline-block;height:2rem;width:2rem}.custom-day.focused[_ngcontent-%COMP%]{background-color:#e6e6e6}.custom-day.range[_ngcontent-%COMP%], .custom-day[_ngcontent-%COMP%]:hover{background-color:#0275d8;color:#fff}.custom-day.faded[_ngcontent-%COMP%]{background-color:rgba(2,117,216,.5)}i[_ngcontent-%COMP%]{font-size:24px!important}.add-button[_ngcontent-%COMP%]{color:#fff;background-color:#d42948;border-color:#d42948}.button-font[_ngcontent-%COMP%]{font-weight:300;font-size:24px}.column-title-font[_ngcontent-%COMP%]{font-weight:700;font-size:18px;line-height:21px;color:#555}.border-collapse-inherit[_ngcontent-%COMP%]{border-collapse:inherit!important}.paginator-position[_ngcontent-%COMP%]{display:-webkit-box!important;display:flex!important;-webkit-box-pack:end!important;justify-content:flex-end!important}.color-red[_ngcontent-%COMP%]{background-color:#ffb4b4!important}.status-card[_ngcontent-%COMP%]{height:20px;width:64px;border-radius:6px;font-weight:500;font-size:12px;line-height:14px;text-align:center;color:#6d543b}.cancelled-color[_ngcontent-%COMP%]{background:#ad1313;color:#fff}.pending-color[_ngcontent-%COMP%]{background:#ffc58b}.authorized-color[_ngcontent-%COMP%]{background:#ffea8a}.paid-color[_ngcontent-%COMP%]{background:#3cc985}"]],data:{}});function b(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,7,"div",[["class"," padding-left-40px padding-bottom-60px"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,6,"div",[["class",""]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,5,"div",[["class","padding-header-data"]],null,null,null,null,null)),(l()(),t["\u0275eld"](3,0,null,null,4,"div",[["class","width-title"]],null,null,null,null,null)),(l()(),t["\u0275eld"](4,0,null,null,3,"div",[["class","d-flex align-items-start flex-column title-color-black"]],null,null,null,null,null)),(l()(),t["\u0275eld"](5,0,null,null,2,"div",[["class","page-title"]],null,null,null,null,null)),(l()(),t["\u0275ted"](6,null,["",""])),t["\u0275pid"](131072,o.j,[o.k,t.ChangeDetectorRef])],null,function(l,n){l(n,6,0,t["\u0275unv"](n,6,0,t["\u0275nov"](n,7).transform("Ordenes Tramitadas")))})}function x(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"div",[],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,1,"button",[["class","btn btn-outline-primary h-100"]],[[8,"disabled",0]],[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.generateBulkAdmissions()&&t),t},null,null)),(l()(),t["\u0275ted"](2,null,[""," "]))],null,function(l,n){l(n,1,0,!1),l(n,2,0,"Generar Admision")})}function C(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,4,"th",[["scope","row"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,3,"div",[["class","custom-control custom-checkbox invoice-chkbox"]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,2,"label",[["class","text-relative"]],null,null,null,null,null)),(l()(),t["\u0275eld"](3,0,null,null,0,"input",[["class","custom-control-input ng-untouched ng-pristine ng-valid"],["type","checkbox"]],null,[[null,"change"]],function(l,n,e){var t=!0;return"change"===n&&(t=!1!==l.component.selectAll(e)&&t),t},null,null)),(l()(),t["\u0275eld"](4,0,null,null,0,"span",[["class","custom-control-label p-cursor"]],null,null,null,null,null))],null,null)}function y(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,3,"div",[["class","custom-control custom-checkbox invoice-chkbox"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,2,"label",[["class","text-relative"]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,0,"input",[["class","custom-control-input ng-untouched ng-pristine ng-valid"],["name","checkboxes"],["type","checkbox"]],null,null,null,null,null)),(l()(),t["\u0275eld"](3,0,null,null,0,"span",[["class","custom-control-label p-cursor"]],null,null,null,null,null))],null,null)}function k(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"th",[["scope","row"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,y)),t["\u0275did"](2,16384,null,0,i.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){l(n,2,0,!n.parent.context.$implicit.admission&&"paid"===n.parent.context.$implicit.financialStatus)},null)}function S(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"a",[["class","mr-3 text-muted padding-left-30px"],["data-placement","top"],["data-toggle","tooltip"],["href","javascript:void(0)"]],[[8,"title",0]],[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onAdmission(l.parent.context.$implicit.id)&&t),t},null,null)),t["\u0275pid"](131072,o.j,[o.k,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](2,0,null,null,0,"i",[["aria-hidden","true"],["class","fa fa-file-text-o  font-size-24px"]],null,null,null,null,null))],null,function(l,n){l(n,0,0,t["\u0275inlineInterpolate"](1,"",t["\u0275unv"](n,0,0,t["\u0275nov"](n,1).transform("Generar Admisi\xf3n")),""))})}function w(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"a",[["class","mr-3 text-muted padding-left-30px"],["data-placement","top"],["data-toggle","tooltip "],["href","javascript:void(0)"]],[[8,"title",0]],[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.generateLabel(l.parent.context.$implicit)&&t),t},null,null)),t["\u0275pid"](131072,o.j,[o.k,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](2,0,null,null,0,"i",[["aria-hidden","true"],["class","fa fa-barcode font-size-24px"]],null,null,null,null,null))],null,function(l,n){l(n,0,0,t["\u0275inlineInterpolate"](1,"",t["\u0275unv"](n,0,0,t["\u0275nov"](n,1).transform("Generar Etiqueta")),""))})}function R(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"a",[["class","mr-3 text-muted padding-left-30px"],["data-placement","top"],["data-toggle","tooltip"],["href","javascript:void(0)"]],[[8,"title",0]],[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onDelete(l.parent.context.$implicit.id)&&t),t},null,null)),t["\u0275pid"](131072,o.j,[o.k,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](2,0,null,null,0,"i",[["aria-hidden","true"],["class","fa fa-trash font-size-24px"]],null,null,null,null,null))],null,function(l,n){l(n,0,0,t["\u0275inlineInterpolate"](1,"",t["\u0275unv"](n,0,0,t["\u0275nov"](n,1).transform("Eliminar")),""))})}function E(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,36,"tr",[],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,k)),t["\u0275did"](2,16384,null,0,i.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](3,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t["\u0275ted"](4,null,["",""])),(l()(),t["\u0275eld"](5,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t["\u0275ted"](6,null,["",""])),(l()(),t["\u0275eld"](7,0,null,null,1,"td",[["class","text-center"]],null,null,null,null,null)),(l()(),t["\u0275ted"](8,null,["",""])),(l()(),t["\u0275eld"](9,0,null,null,1,"td",[["class","text-center"]],null,null,null,null,null)),(l()(),t["\u0275ted"](10,null,["",""])),(l()(),t["\u0275eld"](11,0,null,null,1,"td",[["class","text-center"]],null,null,null,null,null)),(l()(),t["\u0275ted"](12,null,["",""])),(l()(),t["\u0275eld"](13,0,null,null,1,"td",[["class","text-center"]],null,null,null,null,null)),(l()(),t["\u0275ted"](14,null,[" ",""])),(l()(),t["\u0275eld"](15,0,null,null,4,"td",[],null,null,null,null,null)),(l()(),t["\u0275eld"](16,0,null,null,3,"div",[["class","status-card display-flex justify-content-center align-items-center"]],null,null,null,null,null)),t["\u0275did"](17,278528,null,0,i.NgClass,[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t["\u0275pod"](18,{"cancelled-color":0,"pending-color":1,"paid-color":2,"authorized-color":3}),(l()(),t["\u0275ted"](19,null,[" "," "])),(l()(),t["\u0275eld"](20,0,null,null,1,"td",[["class","text-center"]],null,null,null,null,null)),(l()(),t["\u0275ted"](21,null,["",""])),(l()(),t["\u0275eld"](22,0,null,null,1,"td",[["class","text-center"]],null,null,null,null,null)),(l()(),t["\u0275ted"](23,null,["",""])),(l()(),t["\u0275eld"](24,0,null,null,1,"td",[["class","text-center"]],null,null,null,null,null)),(l()(),t["\u0275ted"](25,null,["",""])),(l()(),t["\u0275eld"](26,0,null,null,2,"td",[["class","text-center"]],null,null,null,null,null)),(l()(),t["\u0275ted"](27,null,["",""])),t["\u0275ppd"](28,2),(l()(),t["\u0275eld"](29,0,null,null,7,"td",[],null,null,null,null,null)),(l()(),t["\u0275eld"](30,0,null,null,6,"div",[["class",""]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,S)),t["\u0275did"](32,16384,null,0,i.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,w)),t["\u0275did"](34,16384,null,0,i.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,R)),t["\u0275did"](36,16384,null,0,i.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){l(n,2,0,!n.component.retiroView);var e=l(n,18,0,"voided"===n.context.$implicit.financialStatus,"pending"===n.context.$implicit.financialStatus,"paid"===n.context.$implicit.financialStatus,"authorized"===n.context.$implicit.financialStatus);l(n,17,0,"status-card display-flex justify-content-center align-items-center",e),l(n,32,0,"paid"===n.context.$implicit.financialStatus&&!n.context.$implicit.admission),l(n,34,0,n.context.$implicit.admission&&"paid"===n.context.$implicit.financialStatus),l(n,36,0,"voided"===n.context.$implicit.financialStatus)},function(l,n){var e=n.component;l(n,4,0,n.context.$implicit.orderNumber),l(n,6,0,n.context.$implicit.admission?n.context.$implicit.admission.numeroEnvio:""),l(n,8,0,e.getService(n.context.$implicit.serviceCode)),l(n,10,0,n.context.$implicit.receiverContactName?n.context.$implicit.receiverContactName:""),l(n,12,0,n.context.$implicit.admission?n.context.$implicit.admission.comunaDestino:""),l(n,14,0,n.context.$implicit.admission?n.context.$implicit.admission.direccionDestino:n.context.$implicit.receiverAddress||""),l(n,19,0,e.getStatus(n.context.$implicit.financialStatus)),l(n,21,0,n.context.$implicit.subtotalPrice?n.context.$implicit.subtotalPrice:""),l(n,23,0,n.context.$implicit.totalPrice?n.context.$implicit.totalPrice:""),l(n,25,0,n.context.$implicit.totalPieces?n.context.$implicit.totalPieces:"");var o=n.context.$implicit.admission?t["\u0275unv"](n,27,0,l(n,28,0,t["\u0275nov"](n.parent.parent,0),n.context.$implicit.admission.createdAt,"short")):"";l(n,27,0,o)})}function O(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,4,"tbody",[],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,3,null,E)),t["\u0275did"](2,278528,null,0,i.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),t["\u0275pod"](3,{itemsPerPage:0,currentPage:1}),t["\u0275pid"](0,u.b,[u.e])],function(l,n){var e=n.component,o=t["\u0275unv"](n,2,0,t["\u0275nov"](n,4).transform(e.retiro?e.retiro.orders:e.orders,l(n,3,0,10,e.p)));l(n,2,0,o)},null)}function P(l){return t["\u0275vid"](0,[t["\u0275pid"](0,i.DatePipe,[t.LOCALE_ID]),(l()(),t["\u0275and"](16777216,null,null,1,null,b)),t["\u0275did"](2,16384,null,0,i.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](3,0,null,null,80,"div",[["class","chk-block invoice-v2-wrap mb-0"]],null,null,null,null,null)),(l()(),t["\u0275eld"](4,0,null,null,38,"div",[["class","chk-block-title pb-3"]],null,null,null,null,null)),(l()(),t["\u0275eld"](5,0,null,null,37,"div",[["class","d-flex justify-content-space-between"]],null,null,null,null,null)),(l()(),t["\u0275eld"](6,0,null,null,33,"form",[["autocomplete","off"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(l,n,e){var o=!0;return"submit"===n&&(o=!1!==t["\u0275nov"](l,8).onSubmit(e)&&o),"reset"===n&&(o=!1!==t["\u0275nov"](l,8).onReset()&&o),o},null,null)),t["\u0275did"](7,16384,null,0,r["\u0275angular_packages_forms_forms_bh"],[],null,null),t["\u0275did"](8,540672,null,0,r.FormGroupDirective,[[8,null],[8,null]],{form:[0,"form"]},null),t["\u0275prd"](2048,null,r.ControlContainer,null,[r.FormGroupDirective]),t["\u0275did"](10,16384,null,0,r.NgControlStatusGroup,[[4,r.ControlContainer]],null,null),(l()(),t["\u0275eld"](11,0,null,null,28,"div",[["class","mb-3 mb-sm-0 d-flex"]],null,null,null,null,null)),(l()(),t["\u0275eld"](12,0,null,null,27,"div",[["class","form-group form-field mr-2 mb-0 text-nowrap"]],null,null,null,null,null)),(l()(),t["\u0275eld"](13,0,null,null,26,"select",[["class","form-control h-auto p-cursor custom-select form"],["formControlName","status"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],function(l,n,e){var o=!0;return"change"===n&&(o=!1!==t["\u0275nov"](l,14).onChange(e.target.value)&&o),"blur"===n&&(o=!1!==t["\u0275nov"](l,14).onTouched()&&o),o},null,null)),t["\u0275did"](14,16384,null,0,r.SelectControlValueAccessor,[t.Renderer2,t.ElementRef],null,null),t["\u0275prd"](1024,null,r.NG_VALUE_ACCESSOR,function(l){return[l]},[r.SelectControlValueAccessor]),t["\u0275did"](16,671744,null,0,r.FormControlName,[[3,r.ControlContainer],[8,null],[8,null],[6,r.NG_VALUE_ACCESSOR],[2,r["\u0275angular_packages_forms_forms_k"]]],{name:[0,"name"]},null),t["\u0275prd"](2048,null,r.NgControl,null,[r.FormControlName]),t["\u0275did"](18,16384,null,0,r.NgControlStatus,[[4,r.NgControl]],null,null),(l()(),t["\u0275eld"](19,0,null,null,4,"option",[["selected",""]],null,null,null,null,null)),t["\u0275did"](20,147456,null,0,r.NgSelectOption,[t.ElementRef,t.Renderer2,[2,r.SelectControlValueAccessor]],{value:[0,"value"]},null),t["\u0275did"](21,147456,null,0,r["\u0275angular_packages_forms_forms_s"],[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),(l()(),t["\u0275ted"](22,null,["",""])),t["\u0275pid"](131072,o.j,[o.k,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](24,0,null,null,3,"option",[],null,null,null,null,null)),t["\u0275did"](25,147456,null,0,r.NgSelectOption,[t.ElementRef,t.Renderer2,[2,r.SelectControlValueAccessor]],{value:[0,"value"]},null),t["\u0275did"](26,147456,null,0,r["\u0275angular_packages_forms_forms_s"],[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),(l()(),t["\u0275ted"](27,null,["",""])),(l()(),t["\u0275eld"](28,0,null,null,3,"option",[],null,null,null,null,null)),t["\u0275did"](29,147456,null,0,r.NgSelectOption,[t.ElementRef,t.Renderer2,[2,r.SelectControlValueAccessor]],{value:[0,"value"]},null),t["\u0275did"](30,147456,null,0,r["\u0275angular_packages_forms_forms_s"],[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),(l()(),t["\u0275ted"](31,null,["",""])),(l()(),t["\u0275eld"](32,0,null,null,3,"option",[],null,null,null,null,null)),t["\u0275did"](33,147456,null,0,r.NgSelectOption,[t.ElementRef,t.Renderer2,[2,r.SelectControlValueAccessor]],{value:[0,"value"]},null),t["\u0275did"](34,147456,null,0,r["\u0275angular_packages_forms_forms_s"],[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),(l()(),t["\u0275ted"](35,null,["",""])),(l()(),t["\u0275eld"](36,0,null,null,3,"option",[],null,null,null,null,null)),t["\u0275did"](37,147456,null,0,r.NgSelectOption,[t.ElementRef,t.Renderer2,[2,r.SelectControlValueAccessor]],{value:[0,"value"]},null),t["\u0275did"](38,147456,null,0,r["\u0275angular_packages_forms_forms_s"],[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),(l()(),t["\u0275ted"](39,null,["",""])),(l()(),t["\u0275eld"](40,0,null,null,2,"div",[["class","mb-3 mb-sm-0 d-flex mr-3"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,x)),t["\u0275did"](42,16384,null,0,i.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](43,0,null,null,40,"div",[["class","chk-block-content p-0"]],null,null,null,null,null)),(l()(),t["\u0275eld"](44,0,null,null,39,"div",[["class","table-responsive"]],null,null,null,null,null)),(l()(),t["\u0275eld"](45,0,null,null,36,"table",[["class","table table-striped mb-0"]],null,null,null,null,null)),(l()(),t["\u0275eld"](46,0,null,null,33,"thead",[],null,null,null,null,null)),(l()(),t["\u0275eld"](47,0,null,null,32,"tr",[],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,C)),t["\u0275did"](49,16384,null,0,i.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](50,0,null,null,2,"th",[["scope","col"]],null,null,null,null,null)),(l()(),t["\u0275ted"](51,null,["",""])),t["\u0275pid"](131072,o.j,[o.k,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](53,0,null,null,2,"th",[["scope","col"]],null,null,null,null,null)),(l()(),t["\u0275ted"](54,null,["",""])),t["\u0275pid"](131072,o.j,[o.k,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](56,0,null,null,2,"th",[["class","text-center"],["scope","col"]],null,null,null,null,null)),(l()(),t["\u0275ted"](57,null,["",""])),t["\u0275pid"](131072,o.j,[o.k,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](59,0,null,null,1,"th",[["class","text-center"],["scope","col"]],null,null,null,null,null)),(l()(),t["\u0275ted"](60,null,["",""])),(l()(),t["\u0275eld"](61,0,null,null,2,"th",[["class","text-center"],["scope","col"]],null,null,null,null,null)),(l()(),t["\u0275ted"](62,null,["",""])),t["\u0275pid"](131072,o.j,[o.k,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](64,0,null,null,2,"th",[["class","text-center"],["scope","col"]],null,null,null,null,null)),(l()(),t["\u0275ted"](65,null,["",""])),t["\u0275pid"](131072,o.j,[o.k,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](67,0,null,null,2,"th",[["class","text-center"],["scope","col"]],null,null,null,null,null)),(l()(),t["\u0275ted"](68,null,["",""])),t["\u0275pid"](131072,o.j,[o.k,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](70,0,null,null,1,"th",[["class","text-center"],["scope","col"]],null,null,null,null,null)),(l()(),t["\u0275ted"](71,null,["",""])),(l()(),t["\u0275eld"](72,0,null,null,1,"th",[["class","text-center"],["scope","col"]],null,null,null,null,null)),(l()(),t["\u0275ted"](73,null,["",""])),(l()(),t["\u0275eld"](74,0,null,null,1,"th",[["class","text-center"],["scope","col"]],null,null,null,null,null)),(l()(),t["\u0275ted"](75,null,["",""])),(l()(),t["\u0275eld"](76,0,null,null,1,"th",[["class","text-center"],["scope","col"]],null,null,null,null,null)),(l()(),t["\u0275ted"](77,null,["",""])),(l()(),t["\u0275eld"](78,0,null,null,1,"th",[["class","text-center"],["scope","col"]],null,null,null,null,null)),(l()(),t["\u0275ted"](79,null,["",""])),(l()(),t["\u0275and"](16777216,null,null,1,null,O)),t["\u0275did"](81,16384,null,0,i.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](82,0,null,null,1,"pagination-controls",[["class","paginator-position"]],null,[[null,"pageChange"]],function(l,n,e){var t=!0;return"pageChange"===n&&(t=!1!==(l.component.p=e)&&t),t},a.b,a.a)),t["\u0275did"](83,49152,null,0,u.c,[],null,{pageChange:"pageChange"})],function(l,n){var e=n.component;l(n,2,0,!e.retiro),l(n,8,0,e.filter),l(n,16,0,"status"),l(n,20,0,""),l(n,21,0,""),l(n,25,0,"paid"),l(n,26,0,"paid"),l(n,29,0,"authorized"),l(n,30,0,"authorized"),l(n,33,0,"pending"),l(n,34,0,"pending"),l(n,37,0,"voided"),l(n,38,0,"voided"),l(n,42,0,!e.retiroView),l(n,49,0,!e.retiroView),l(n,81,0,e.orders.length>0||e.retiro)},function(l,n){l(n,6,0,t["\u0275nov"](n,10).ngClassUntouched,t["\u0275nov"](n,10).ngClassTouched,t["\u0275nov"](n,10).ngClassPristine,t["\u0275nov"](n,10).ngClassDirty,t["\u0275nov"](n,10).ngClassValid,t["\u0275nov"](n,10).ngClassInvalid,t["\u0275nov"](n,10).ngClassPending),l(n,13,0,t["\u0275nov"](n,18).ngClassUntouched,t["\u0275nov"](n,18).ngClassTouched,t["\u0275nov"](n,18).ngClassPristine,t["\u0275nov"](n,18).ngClassDirty,t["\u0275nov"](n,18).ngClassValid,t["\u0275nov"](n,18).ngClassInvalid,t["\u0275nov"](n,18).ngClassPending),l(n,22,0,t["\u0275unv"](n,22,0,t["\u0275nov"](n,23).transform("Todos los Estados"))),l(n,27,0,"Pagado"),l(n,31,0,"Autorizado"),l(n,35,0,"Pendiente"),l(n,39,0,"Cancelado"),l(n,51,0,t["\u0275unv"](n,51,0,t["\u0275nov"](n,52).transform("No. Orden"))),l(n,54,0,t["\u0275unv"](n,54,0,t["\u0275nov"](n,55).transform("No. Env\xedo"))),l(n,57,0,t["\u0275unv"](n,57,0,t["\u0275nov"](n,58).transform("Servicio"))),l(n,60,0,"Nombre Cliente"),l(n,62,0,t["\u0275unv"](n,62,0,t["\u0275nov"](n,63).transform("Comuna"))),l(n,65,0,t["\u0275unv"](n,65,0,t["\u0275nov"](n,66).transform("Direcci\xf3n"))),l(n,68,0,t["\u0275unv"](n,68,0,t["\u0275nov"](n,69).transform("Estado"))),l(n,71,0,"Sub Total"),l(n,73,0,"Total"),l(n,75,0,"Piezas"),l(n,77,0,"Fecha"),l(n,79,0,"Acciones")})}function _(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"app-admited-table",[],null,null,null,P,v)),t["\u0275did"](1,4440064,null,0,c.a,[s.a,d.a,p.a,o.k,f.n,g.a,m.a,f.a,h.k],null,null)],function(l,n){l(n,1,0)},null)}var I=t["\u0275ccf"]("app-admited-table",c.a,_,{retiro:"retiro",retiroView:"retiroView"},{},[])},Iab2:function(l,n,e){var t,o;void 0===(o="function"==typeof(t=function(){"use strict";function n(l,n,e){var t=new XMLHttpRequest;t.open("GET",l),t.responseType="blob",t.onload=function(){i(t.response,n,e)},t.onerror=function(){console.error("could not download file")},t.send()}function e(l){var n=new XMLHttpRequest;n.open("HEAD",l,!1);try{n.send()}catch(l){}return 200<=n.status&&299>=n.status}function t(l){try{l.dispatchEvent(new MouseEvent("click"))}catch(n){var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),l.dispatchEvent(e)}}var o="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,i=o.saveAs||("object"!=typeof window||window!==o?function(){}:"download"in HTMLAnchorElement.prototype?function(l,i,u){var r=o.URL||o.webkitURL,a=document.createElement("a");a.download=i=i||l.name||"download",a.rel="noopener","string"==typeof l?(a.href=l,a.origin===location.origin?t(a):e(a.href)?n(l,i,u):t(a,a.target="_blank")):(a.href=r.createObjectURL(l),setTimeout(function(){r.revokeObjectURL(a.href)},4e4),setTimeout(function(){t(a)},0))}:"msSaveOrOpenBlob"in navigator?function(l,o,i){if(o=o||l.name||"download","string"!=typeof l)navigator.msSaveOrOpenBlob(function(l,n){return void 0===n?n={autoBom:!1}:"object"!=typeof n&&(console.warn("Deprecated: Expected third argument to be a object"),n={autoBom:!n}),n.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(l.type)?new Blob(["\ufeff",l],{type:l.type}):l}(l,i),o);else if(e(l))n(l,o,i);else{var u=document.createElement("a");u.href=l,u.target="_blank",setTimeout(function(){t(u)})}}:function(l,e,t,i){if((i=i||open("","_blank"))&&(i.document.title=i.document.body.innerText="downloading..."),"string"==typeof l)return n(l,e,t);var u="application/octet-stream"===l.type,r=/constructor/i.test(o.HTMLElement)||o.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent);if((a||u&&r)&&"object"==typeof FileReader){var c=new FileReader;c.onloadend=function(){var l=c.result;l=a?l:l.replace(/^data:[^;]*;/,"data:attachment/file;"),i?i.location.href=l:location=l,i=null},c.readAsDataURL(l)}else{var s=o.URL||o.webkitURL,d=s.createObjectURL(l);i?i.location=d:location.href=d,i=null,setTimeout(function(){s.revokeObjectURL(d)},4e4)}});o.saveAs=i.saveAs=i,l.exports=i})?t.apply(n,[]):t)||(l.exports=o)},aUVP:function(l,n,e){"use strict";e.d(n,"a",function(){return t}),e("MBQI");var t=(e("233g"),function(){return function(){}}())},rTjG:function(l,n,e){"use strict";e.d(n,"a",function(){return s});var t=e("XlPw"),o=e("cmSp"),i=e("aq+k"),u=e("67Y/"),r=e("Iab2"),a=e("CcnG"),c=e("t/Na"),s=function(){function l(l,n,e){this.configService=l,this.http=n,this.httpClient=e,this.apiEndpoint=this.configService.config.apiUrl+this.configService.config.apiConfigs.orders.apiEndpoint,this.apiEndpointLabel=this.configService.config.apiUrl+this.configService.config.apiConfigs.label.apiEndpoint,this.apiEndpointAdmission=this.configService.config.apiUrl+this.configService.config.apiConfigs.admission.apiEndpoint}return l.prototype.postAdmission=function(l){return this.http.post(this.apiEndpointAdmission,{orderId:l})},l.prototype.postBulkAdmission=function(l){return this.http.post(this.apiEndpointAdmission+"/bulk",JSON.stringify(l))},l.prototype.getAdmiteds=function(l){var n=this.formatQueryParams(l);return this.http.get(this.apiEndpoint+n)},l.prototype.getAdmited=function(l){return this.http.get(this.apiEndpoint+l)},l.prototype.getLabel=function(l,n){var e="pdf"===n||"pdfs"===n?"pdf":n;this.httpClient.post(this.apiEndpointLabel+"?orderId="+l.id,{location:l.orderNumber+"."+e},{responseType:"blob"}).subscribe(function(n){var t=new Blob([n],{type:"application/pdf"});Object(r.saveAs)(t,l.orderNumber+"."+e)},function(l){Object(t.a)(l)})},l.prototype.formatQueryParams=function(l,n,e,t,o){var i="";return l&&l.status&&(i+=i.length>0?"&":"?",i+="status="+l.status),i},l.prototype.getStaticOrders=function(){return this.http.get("assets/data/orders.json").pipe(Object(u.a)(function(l){return l}))},l.prototype.deleteOrder=function(l){return this.http.delete(this.apiEndpoint+l)},l.ngInjectableDef=a.defineInjectable({factory:function(){return new l(a.inject(o.a),a.inject(i.a),a.inject(c.c))},token:l,providedIn:"root"}),l}()}}]);